#include "prefixes.h"
#include <algorithm>
#include "skiptrie.h"


int main(){
    // int x = 200;
    // int prefix = getPrefix(x,4,8);
    // std::cout << "Length 4 prefix of 200 within 8 bits:" << prefix << std::endl;

    // prefix = 7;
    // std::cout << "Merging 11 with bit 1 through 4 of 200 (1001):" << mergePrefix(prefix,200,1,4,8) << std::endl;

    // std::cout << "Is 11 a len 2 prefix of 200 within 8 bits:" << isPrefix(7, 200, 8) << std::endl;
    // std::cout << "Is empty a len 2 prefix of 200 within 8 bits:" << isPrefix(1, 200, 8) << std::endl;
    // std::cout << "Is 111 a len 3 prefix of 200 within 8 bits:" << isPrefix(15, 200, 8) << std::endl;

    // threadID = 0;

    // SkipTrie<5> trie(20);
    // trie.insert(5);
    // trie.remove(5);
    // DCSS_PTR<int64_t> ptr(0);
    // std::cout << "Should be 0: " << ptr.read() << std::endl;
    // ptr.cas(0, 256);
    // std::cout << "Should be 256: " << ptr.read() << std::endl;

    // std::atomic<uintptr_t> x;
    // x = 0;
    // bool result = ptr.dcss(&x,0, 256, 512);
    // std::cout << "Should be 512: " << ptr.read() << std::endl;
    // std::cout << "Shoudl be true: " << result << std::endl;
}